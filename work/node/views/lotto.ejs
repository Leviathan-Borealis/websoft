<link href="css/table.css" rel="stylesheet" type="text/css">

<h2>Today's lotto numbers are...</h2>
<%
 var jsonData = JSON.parse(numbers);
 %>

<div id="content">
    <table id="json_data" class="root_table">
        <tr>
        <%
        var labels = Object.keys(jsonData);
        var range = labels.length;
        if(range === 3){
            %>
            <p>Hits are marked in green</p>
            <%
            range = 2;
        }

        for (var i = 0;i < range;i++)
        {
            var label;
            var cellClass = "label_row";
            if(i === 0){
                cellClass += " left_column";
            } else {
                cellClass += " right_column";
            }
            switch (i) {
                case 0:{
                    label = "Submitted numbers"
                    break
                }
                case 1:{
                    label = "Lotto numbers"
                    break
                }
            }
            %>
            <td class="<%=cellClass%>"><%= label %></td>
            <%
        }
        %>
        </tr>

        <%
        for(var ii = 0;ii < 7;ii++){
        %>
        <tr>
            <%
                cellClass = "left_column"
                if(jsonData["correctIndexes"].includes(ii)){
                    cellClass += " cell_hit";
                }
            %>
            <td class="<%= cellClass %>"><%= (JSON.parse(jsonData["submitted"])[ii]) %></td>
            <td class="right_column"><%= (JSON.parse(jsonData["drawn"])[ii]) %></td>
        </tr>
            <%
        }
            %>
    </table>
</div>
